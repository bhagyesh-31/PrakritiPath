<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>PrakritiPath - Gamified Sustainability Platform</title>
  
  <!-- Firebase SDK -->
  <script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-firestore-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-storage-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-analytics-compat.js"></script>
   <link rel="stylesheet" href="styles.css">
  <style>

  </style>
</head>
<body>

<!-- NAVIGATION -->
<nav id="navbar" class="hidden">
  <div class="container">
    <div class="logo">ğŸŒ± PrakritiPath</div>
    <nav-links id="navLinks">
      <a href="#" onclick="showPage('dashboard')">Dashboard</a>
      <a href="#" onclick="showPage('contributions')">Contributions</a>
      <a href="#" onclick="showPage('leaderboard')">Leaderboard</a>
      <a href="#" onclick="showPage('profile')">Profile</a>
      <a href="#" id="adminLink" class="hidden" onclick="showPage('admin')">Admin</a>
      <a href="#" onclick="showPage('feed')">Feed</a>
    </nav-links>
  </div>
</nav>

<!-- ==================== LANDING PAGE ==================== -->
<div id="landing" class="page active">
  <div class="container">
    <div class="landing-hero">
      <div class="hero-content">
        <h1>ğŸŒ± PrakritiPath</h1>
        <p>Transform Your Daily Actions into Global Impact through Gamified Sustainability</p>
        
        <div class="hero-buttons">
          <button class="btn btn-primary" onclick="showPage('login'); return false;">Sign In / Sign Up</button>
          <button class="btn btn-secondary" onclick="document.querySelector('.features-grid').scrollIntoView({behavior: 'smooth'})">Learn More</button>
        </div>

        <div class="features-grid" id="features">
          <div class="feature-card card">
            <div class="feature-icon">ğŸ“ˆ</div>
            <h3>Gamified Learning</h3>
            <p>Earn XP, unlock badges, and climb the leaderboards while learning about sustainability.</p>
          </div>

          <div class="feature-card card">
            <div class="feature-icon">ğŸŒ</div>
            <h3>Daily Contributions</h3>
            <p>Track your eco-friendly actions and inspire others with your real-world impact.</p>
          </div>

          <div class="feature-card card">
            <div class="feature-icon">ğŸ†</div>
            <h3>Win Certificates</h3>
            <p>Complete 7 verified contributions to earn digital certificates with QR codes.</p>
          </div>

          <div class="feature-card card">
            <div class="feature-icon">ğŸ‘¥</div>
            <h3>Community Driven</h3>
            <p>Connect with students, teachers, and organizations working toward SDG goals.</p>
          </div>

          <div class="feature-card card">
            <div class="feature-icon">ğŸ“Š</div>
            <h3>Real Impact</h3>
            <p>See state-wise analytics and understand the collective impact of our community.</p>
          </div>

          <div class="feature-card card">
            <div class="feature-icon">ğŸ“</div>
            <h3>For Educators</h3>
            <p>Teachers can track student progress and guide the next generation of eco-leaders.</p>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- ==================== LOGIN PAGE ==================== -->
<div id="login" class="page">
  <div class="auth-container">
    <div class="auth-form">
      <h2>Join PrakritiPath</h2>
      <p>Sign up or login to start your sustainability journey</p>

      <div class="form-group">
        <label>Full Name</label>
        <input type="text" id="signupName" placeholder="Your name">
      </div>

      <div class="form-group">
        <label>Email</label>
        <input type="email" id="signupEmail" placeholder="your@email.com">
      </div>

      <div class="form-group">
        <label>Password</label>
        <input type="password" id="signupPassword" placeholder="At least 6 characters">
      </div>

      <div class="form-group">
        <label>Confirm Password</label>
        <input type="password" id="confirmPassword" placeholder="Confirm password">
      </div>

      <div class="form-group">
        <label>Select Your Role</label>
        <div class="role-options">
          <div class="role-option" onclick="selectRole('high-school')">
            <div>ğŸ“</div>
            <div>High School</div>
          </div>
          <div class="role-option" onclick="selectRole('college')">
            <div>ğŸ«</div>
            <div>College</div>
          </div>
          <div class="role-option" onclick="selectRole('teacher')">
            <div>ğŸ‘¨â€ğŸ«</div>
            <div>Teacher</div>
          </div>
        </div>
        <input type="hidden" id="selectedRole">
      </div>

      <div id="signupError" class="error-text hidden"></div>

      <button class="btn btn-primary" onclick="signup()">Sign Up</button>

      <div class="auth-links">
        Already have an account? <a onclick="showLoginForm(); return false;">Login</a>
      </div>
    </div>
  </div>
</div>

<!-- ==================== LOGIN FORM ==================== -->
<div id="loginForm" class="page hidden">
  <div class="auth-container">
    <div class="auth-form">
      <h2>Welcome Back</h2>
      <p>Sign in to your account</p>

      <div class="form-group">
        <label>Email</label>
        <input type="email" id="loginEmail" placeholder="your@email.com">
      </div>

      <div class="form-group">
        <label>Password</label>
        <input type="password" id="loginPassword" placeholder="Your password">
      </div>

      <div id="loginError" class="error-text hidden"></div>

      <button class="btn btn-primary" onclick="login()">Sign In</button>

      <div class="auth-links">
        Don't have an account? <a onclick="showPage('login'); return false;">Sign Up</a>
      </div>
    </div>
  </div>
</div>

<!-- ==================== DASHBOARD ==================== -->
<div id="dashboard" class="page">
  <div class="dashboard-header">
    <div class="container">
      <div class="welcome-section">
        <div class="welcome-text">
          <h1>Welcome back, <span id="userName">User</span>! ğŸŒ±</h1>
          <p>Keep up your eco-friendly streak and inspire your community</p>
        </div>
        <button class="btn btn-primary" onclick="showPage('contributions')">Add Contribution</button>
      </div>
    </div>
  </div>

  <div class="container">
    <div class="stats-grid">
      <div class="stat-card card">
        <div class="stat-value" id="streakValue">0</div>
        <div class="stat-label">Current Streak ğŸ”¥</div>
        <div class="stat-badge">Days in a row</div>
      </div>

      <div class="stat-card card">
        <div class="stat-value" id="xpValue">0</div>
        <div class="stat-label">Total XP â­</div>
        <div class="stat-badge">Experience Points</div>
      </div>

      <div class="stat-card card">
        <div class="stat-value" id="levelValue">1</div>
        <div class="stat-label">Level ğŸ†</div>
        <div class="stat-badge">Eco-Leader Rank</div>
      </div>

      <div class="stat-card card">
        <div class="stat-value" id="contributionValue">0</div>
        <div class="stat-label">Contributions ğŸ“¸</div>
        <div class="stat-badge">Verified actions</div>
      </div>
    </div>

    <div class="contribution-section">
      <div class="section-title">
        <span>ğŸ“œ Certificate Progress</span>
      </div>
      <div class="card">
        <div style="display: flex; align-items: center; gap: 20px;">
          <div style="flex: 1;">
            <p style="margin-bottom: 10px;"><span id="certProgressText">Complete 7 contributions to earn your digital certificate!</span></p>
            <div style="background: rgba(16, 185, 129, 0.1); border-radius: 20px; overflow: hidden; height: 30px;">
              <div id="certificateProgress" style="background: linear-gradient(135deg, var(--primary-green), var(--accent-blue)); height: 100%; width: 0%; transition: width 0.3s ease; display: flex; align-items: center; justify-content: center; color: white; font-weight: 600; font-size: 0.9rem;">0/7</div>
            </div>
            <p id="certResetMessage" style="margin-top: 10px; color: var(--accent-blue); font-size: 0.9rem; display: none;">ğŸ‰ You've earned a certificate! Start a new journey to earn more!</p>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- ==================== CONTRIBUTIONS PAGE ==================== -->
<div id="contributions" class="page">
  <div class="container" style="padding: 40px 20px;">
    <div class="section-title">
      <span>Add Your Daily Contribution</span>
    </div>

    <div class="contribution-form">
      <div class="form-group">
        <label>What eco-action did you take today?</label>
        <input type="text" id="actionType" placeholder="e.g., Planted a tree, Used public transport, Reduced plastic waste...">
        <p style="font-size: 0.8rem; color: var(--text-muted); margin-top: -8px;">ğŸ’¡ Describe your eco-friendly action in your own words</p>
      </div>

      <div class="form-group">
        <label>ğŸ“¸ Photo/Video Link <span style="color: var(--warning-yellow); font-weight: 400;">(Optional)</span></label>
        <p style="font-size: 0.85rem; color: var(--text-muted); margin-bottom: 10px;">
          ğŸ’¡ Tip: Upload photo to Google Drive â†’ Share â†’ Copy link â†’ Paste here
        </p>
        <input type="text" id="photoLink" placeholder="Paste Google Drive link (https://drive.google.com/...)">
        <p style="font-size: 0.8rem; color: var(--accent-blue); margin-top: -8px; margin-bottom: 10px;">
          ğŸ“– <a href="https://support.google.com/drive/answer/2881970" target="_blank" style="color: var(--accent-blue); cursor: pointer;">How to get shareable link?</a>
        </p>
      </div>

      <div class="form-group form-row full">
        <label>Add Caption</label>
        <textarea id="caption" placeholder="Describe your contribution and its impact..." style="height: 120px;"></textarea>
      </div>

      <div class="form-group">
        <label>Add Hashtags</label>
        <input type="text" id="hashtags" placeholder="#SDG13 #GreenPunjab #Sustainability">
      </div>

      <div id="contributionError" class="error-text hidden"></div>
      <div id="contributionSuccess" class="success-text hidden"></div>

      <button class="btn btn-primary" style="width: 100%;" id="submitBtn" onclick="submitContribution()">Submit Contribution</button>
    </div>

    <div class="section-title" style="margin-top: 50px;">
      <span>Your Recent Contributions</span>
    </div>

    <div class="contribution-grid" id="myContributions">
      <p style="color: var(--text-muted);">No contributions yet. Start your journey!</p>
    </div>
  </div>
</div>

<!-- ==================== LEADERBOARD PAGE ==================== -->
<div id="leaderboard" class="page">
  <div class="container" style="padding: 40px 20px;">
    <div class="section-title">
      <span>ğŸ† Leaderboards</span>
    </div>

    <div class="leaderboard-tabs">
      <button class="tab-btn active" onclick="switchLeaderboardTab('school')">School-wise</button>
      <button class="tab-btn" onclick="switchLeaderboardTab('district')">District-wise</button>
      <button class="tab-btn" onclick="switchLeaderboardTab('state')">State-wise</button>
    </div>

    <ul class="leaderboard-list" id="leaderboardList">
      <li class="leaderboard-item rank-1">
        <div class="rank-badge">ğŸ¥‡</div>
        <div class="leaderboard-info">
          <div class="leaderboard-name">Loading...</div>
        </div>
        <div class="leaderboard-xp">-- XP</div>
      </li>
    </ul>
  </div>
</div>

<!-- ==================== PROFILE PAGE ==================== -->
<div id="profile" class="page">
  <div class="container" style="padding: 40px 20px;">
    <div class="profile-header">
      <div class="profile-avatar" id="profileAvatar">ğŸ‘¤</div>
      <div class="profile-info" style="flex: 1;">
        <h2 id="profileName">User Name</h2>
        <p id="profileRole" style="color: var(--text-muted); margin-bottom: 20px;">Role</p>

        <div class="profile-stat">
          <div class="profile-stat-value" id="profileContributions">0</div>
          <div class="profile-stat-label">Contributions</div>
        </div>

        <div class="profile-stat">
          <div class="profile-stat-value" id="profileXP">0</div>
          <div class="profile-stat-label">Total XP</div>
        </div>

        <div class="profile-stat">
          <div class="profile-stat-value" id="profileRank">--</div>
          <div class="profile-stat-label">Current Rank</div>
        </div>

        <div class="profile-stat">
          <div class="profile-stat-value" id="profileCertificates">0</div>
          <div class="profile-stat-label">Certificates</div>
        </div>
      </div>
    </div>

    <div class="section-title">
      <span>ğŸ–ï¸ Your Badges</span>
    </div>

    <div class="badges-grid" id="badgesGrid">
      <div class="badge">
        <div class="badge-icon">ğŸŒŸ</div>
        <div class="badge-name">Loading...</div>
      </div>
    </div>

    <div class="section-title" style="margin-top: 40px;">
      <span>ğŸ“œ Your Certificates</span>
    </div>

    <div id="certificatesSection">
      <p style="color: var(--text-muted);">Complete 7 contributions to earn your first certificate!</p>
    </div>

    <div class="section-title" style="margin-top: 40px;">
      <span>ğŸ” Account Settings</span>
    </div>

    <div class="card" style="margin-bottom: 40px;">
      <div style="display: flex; justify-content: space-between; align-items: center;">
        <div>
          <h3 style="color: var(--primary-green); margin-bottom: 10px;">Logout</h3>
          <p style="color: var(--text-muted); margin-bottom: 0;">Sign out from your account</p>
        </div>
        <button class="btn btn-danger" onclick="logout()">Logout</button>
      </div>
    </div>
  </div>
</div>

<!-- ==================== SEARCH USERS PAGE ==================== -->
<div id="search" class="page">
  <div class="container" style="padding: 40px 20px;">
    <div class="section-title">
      <span>ğŸ” Find Users</span>
    </div>

    <div class="card" style="margin-bottom: 40px;">
      <input type="text" id="searchInput" placeholder="Search users by name..." onkeyup="searchUsers(this.value)">
    </div>

    <div id="searchResults">
      <p style="color: var(--text-muted);">Start typing to search for users...</p>
    </div>
  </div>
</div>

<!-- ==================== SOCIAL FEED PAGE ==================== -->
<div id="feed" class="page">
  <div class="container" style="padding: 40px 20px;">
    <div class="section-title">
      <span>ğŸ“± Community Feed</span>
    </div>

    <div id="socialFeed" style="max-width: 600px; margin: 0 auto;">
      <p style="color: var(--text-muted); text-align: center;">Loading posts...</p>
    </div>
  </div>
</div>

<!-- ==================== USER PROFILE VIEW PAGE ==================== -->
<div id="userProfile" class="page">
  <div class="container" style="padding: 40px 20px;">
    <button class="btn btn-secondary" style="margin-bottom: 30px;" onclick="showPage('search')">â† Back</button>

    <div class="profile-header">
      <div class="profile-avatar" id="viewProfileAvatar">ğŸ‘¤</div>
      <div class="profile-info" style="flex: 1;">
        <h2 id="viewProfileName">User Name</h2>
        <p id="viewProfileRole" style="color: var(--text-muted); margin-bottom: 20px;">Role</p>

        <div class="profile-stat">
          <div class="profile-stat-value" id="viewProfileContributions">0</div>
          <div class="profile-stat-label">Contributions</div>
        </div>

        <div class="profile-stat">
          <div class="profile-stat-value" id="viewProfileXP">0</div>
          <div class="profile-stat-label">Total XP</div>
        </div>
      </div>
    </div>

    <div class="section-title">
      <span>ğŸ“¸ Posts</span>
    </div>

    <div class="contribution-grid" id="viewProfilePosts">
      <p style="color: var(--text-muted); grid-column: 1 / -1;">Loading posts...</p>
    </div>
  </div>
</div>

<!-- ==================== ADMIN PAGE ==================== -->
<div id="admin" class="page">
  <div class="container" style="padding: 40px 20px;">
    <h1 style="margin-bottom: 30px;">ğŸ“Š Admin Dashboard</h1>

    <div class="admin-grid">
      <div class="admin-card card">
        <div class="admin-value" id="totalUsers">0</div>
        <div class="admin-label">Total Users</div>
      </div>
      <div class="admin-card card">
        <div class="admin-value" id="activeUsers">0</div>
        <div class="admin-label">Active Users</div>
      </div>
      <div class="admin-card card">
        <div class="admin-value" id="totalContributions">0</div>
        <div class="admin-label">Total Contributions</div>
      </div>
      <div class="admin-card card">
        <div class="admin-value" id="totalCertificates">0</div>
        <div class="admin-label">Certificates Issued</div>
      </div>
    </div>

    <div class="card" style="margin-bottom: 30px;">
      <h3 style="margin-bottom: 20px; color: var(--primary-green);">ğŸ“‹ User Management</h3>
      <table class="admin-table">
        <thead>
          <tr>
            <th>Name</th>
            <th>Email</th>
            <th>Role</th>
            <th>Contributions</th>
            <th>Status</th>
          </tr>
        </thead>
        <tbody id="usersTable">
          <tr>
            <td colspan="5" style="text-align: center; color: var(--text-muted);">Loading...</td>
          </tr>
        </tbody>
      </table>
    </div>

    <div class="card">
      <h3 style="margin-bottom: 20px; color: var(--primary-green);">âœ… Recent Contributions</h3>
      <table class="admin-table">
        <thead>
          <tr>
            <th>User</th>
            <th>Type</th>
            <th>Date</th>
            <th>Status</th>
          </tr>
        </thead>
        <tbody id="contributionsTable">
          <tr>
            <td colspan="4" style="text-align: center; color: var(--text-muted);">Loading...</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>

<!-- FOOTER -->
<footer>
  <p>&copy; 2025 PrakritiPath. Transforming Actions into Impact for SDG Goals. ğŸŒ±</p>
</footer>

<!-- FIREBASE INITIALIZATION -->
<script src="script.js"></script>
</body>
</html>
